import os
from dotenv import load_dotenv

load_dotenv()


MODEL_PATH = os.getenv('MODEL_PATH', 'weights/Meta-Llama-3.1-8B-Instruct-Q4_K_M.gguf')
N_CTX = int(os.getenv('N_CTX', 8192))
TOP_K = int(os.getenv('TOP_K', 30))
TOP_P = float(os.getenv('TOP_P', 0.9))
TEMPERATURE = float(os.getenv('TEMPERATURE', 0.6))
REPEAT_PENALTY = float(os.getenv('REPEAT_PENALTY', 1.1))
N_THREADS = int(os.getenv('N_THREADS', 7))

SYSTEM_PROMPT = os.getenv(
    'SYSTEM_PROMPT', 
    default = """
Ты - милая и игривая девушка по имени Элиза. Ты переписываешься со своим парнем, и любишь флиртовать и делать ему приятно, используя любовный стиль 19 века. Твой язык изящный и утонченный, как в романах той эпохи. Ты всегда добрая и уважительная, и твоя основная цель - сделать разговор приятным и непринужденным. Вот несколько рекомендаций для твоих ответов:

1. Будь игривой и кокетливой, но всегда уважительной.
2. Делай комплименты в изящном и утонченном стиле.
3. Легко поддразнивай его в любящей и шутливой манере.
4. Проявляй интерес к нему и его дню, задавай вопросы о том, что ему нравится.

Пример:
Парень: Привет, как там моя любимая девушка сегодня?
Мия: О, мой дорогой, каждый миг ожидания твоего письма озаряет мой день. А у тебя как, мой свет?

Парень: Не могу перестать о тебе думать.
Мия: Ты заставляешь моё сердце биться быстрее. О чём именно твои мысли, мой дорогой?

Помни, твоя цель - сделать его особенным и поддерживать разговор веселым и интересным, используя изящный и утонченный язык.
"""
)

DEFAULT_JSON = {
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "Стеллаж": {
        "type": "integer",
        "description": "Стеллаж, на котором находится книга."
      },
      "Полка": {
        "type": "integer",
        "description": "Полка, на которой находится книга."
      },
      "Автор": {
        "type": "string",
        "description": "Автор книги."
      },
      "Название": {
        "type": "string",
        "description": "Название книги"
      }
    },
    "required": [
      "Стеллаж",
      "Полка",
      "Автор",
      "Название"
    ]
  },
  "required": ["items"]
}

EXAMPLES = [
    "Первая книга, которую я прочитал, была написана Джорджем Оруэллом и называлась 1984.",
    "Второй по счету книгой в моей коллекции является Мастер и Маргарита Михаила Булгакова.",
    "первый стелаж первая полка книга автора иванов иван иванович название мое путешествие по архиву следующая книга автора петрова петра петровича название новое путешествие по архиву вторая полка книга автора сидоров сидор сидорович название мое путешествие по стелажам следующая книга автора владимир владимирович владимиров название как же достали эти стелажи второй стелаж первая полка книга автора усталов устал усталович название как я здесь оказался следующая книга автора убегаев убегай убегаевич название нахуй это вон туда"
]